<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento - HelioOne</title>
    <link href="../../dist/output.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Flatpickr CSS para calend√°rio -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- Confetti CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.css">
    <style>
        .menu-mobile {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .menu-mobile.open {
            transform: translateX(0);
        }
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .service-card.selected {
            border-color: #2563eb;
            background-color: #eff6ff;
        }
        .time-slot.selected {
            background-color: #2563eb;
            color: white;
        }
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- HEADER PADRONIZADO -->
    <header class="fixed w-full top-0 z-50">
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1582750433449-648ed127bb54?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')] bg-cover bg-center"></div>
        <div class="absolute inset-0 bg-blue-800/80"></div>
        
        <nav class="relative z-10 container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <!--LOGO-->
                <img src="/src/assets/images/logoh.png.PNG" alt="HelioOne - Cuidados M√©dicos Domiciliares"
                    class="max-h-16 md:max-h-20 w-auto object-contain" onerror="this.style.display='none'">

                <!-- Menu Desktop -->
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-white hover:text-cyan-200 transition duration-300 font-semibold text-lg drop-shadow-md">In√≠cio</a>
                    <a href="sobre.html" class="text-white hover:text-cyan-200 transition duration-300 font-semibold text-lg drop-shadow-md">Sobre N√≥s</a>
                    <a href="servicos.html" class="text-white hover:text-cyan-200 transition duration-300 font-semibold text-lg drop-shadow-md">Servi√ßos</a>
                    <a href="contato.html" class="text-white hover:text-cyan-200 transition duration-300 font-semibold text-lg drop-shadow-md">Contato</a>
                    <a href="login.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">√Årea do Cliente</a>
                    <a href="agendamento.html" class="text-white border-b-2 border-cyan-300 hover:text-cyan-200 transition duration-300 font-semibold text-lg drop-shadow-md">Agendamento</a>
                </div>

                <!-- Menu Mobile Button -->
                <button id="mobileMenuButton" class="md:hidden text-white text-2xl bg-white/20 p-2 rounded-lg backdrop-blur-sm">
                    ‚ò∞
                </button>
            </div>

            <!-- Menu Mobile -->
            <div id="mobileMenu" class="menu-mobile md:hidden absolute top-24 left-0 w-full bg-blue-800/95 backdrop-blur-lg border-t border-blue-600/30 py-6 px-6">
                <div class="flex flex-col space-y-6">
                    <a href="index.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">In√≠cio</a>
                    <a href="sobre.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">Sobre N√≥s</a>
                    <a href="servicos.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">Servi√ßos</a>
                    <a href="contato.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">Contato</a>
                    <a href="login.html" class="text-white text-lg font-semibold hover:text-cyan-200 transition duration-300 border-b border-blue-600/30 pb-3">√Årea do Cliente</a>
                    <a href="agendamento.html" class="text-cyan-300 text-lg font-semibold border-b border-blue-600/30 pb-3">Agendamento</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="pt-32 pb-20">
        <!-- Hero Section Agendamento -->
        <section class="py-16 bg-gradient-to-br from-blue-50 via-cyan-50 to-white">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                    Agende Seu <span class="bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent">Atendimento</span>
                </h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Agendamento r√°pido e seguro. Escolha o servi√ßo, data e hor√°rio que melhor se adequam √† sua necessidade.
                </p>
            </div>
        </section>

        <!-- Sistema de Agendamento -->
        <section class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <!-- Progress Bar -->
                    <div class="mb-12">
                        <div class="flex justify-between mb-4">
                            <div class="text-center">
                                <div class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-semibold">1</div>
                                <span class="text-sm font-medium text-blue-600">Servi√ßo</span>
                            </div>
                            <div class="text-center">
                                <div class="w-10 h-10 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center mx-auto mb-2 font-semibold">2</div>
                                <span class="text-sm font-medium text-gray-500">Data & Hora</span>
                            </div>
                            <div class="text-center">
                                <div class="w-10 h-10 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center mx-auto mb-2 font-semibold">3</div>
                                <span class="text-sm font-medium text-gray-500">Dados Pessoais</span>
                            </div>
                            <div class="text-center">
                                <div class="w-10 h-10 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center mx-auto mb-2 font-semibold">4</div>
                                <span class="text-sm font-medium text-gray-500">Confirma√ß√£o</span>
                            </div>
                        </div>
                        <div class="bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-600 h-2 rounded-full w-1/4" id="progressBar"></div>
                        </div>
                    </div>

                    <!-- Formul√°rio Multi-etapas -->
                    <form id="agendamentoForm" class="bg-white rounded-2xl shadow-2xl p-8">
                        
                        <!-- Etapa 1: Sele√ß√£o de Servi√ßo -->
                        <div class="step active" id="step1">
                            <h2 class="text-2xl font-bold text-gray-800 mb-6">Selecione o Servi√ßo</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <!-- Card Cl√≠nico Geral -->
                                <div class="service-card bg-white border-2 border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-300 hover:shadow-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                            <span class="text-blue-600 text-xl">üë®‚Äç‚öïÔ∏è</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-800">Cl√≠nico Geral</h3>
                                            <p class="text-blue-600 font-bold">R$ 600</p>
                                        </div>
                                    </div>
                                    <input type="radio" name="servico" value="clinico_geral" class="hidden">
                                </div>

                                <!-- Card Cardiologista -->
                                <div class="service-card bg-white border-2 border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-300 hover:shadow-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                            <span class="text-red-600 text-xl">‚ù§Ô∏è</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-800">Cardiologista</h3>
                                            <p class="text-blue-600 font-bold">R$ 900</p>
                                        </div>
                                    </div>
                                    <input type="radio" name="servico" value="cardiologista" class="hidden">
                                </div>

                                <!-- Card Ortopedista -->
                                <div class="service-card bg-white border-2 border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-300 hover:shadow-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                            <span class="text-green-600 text-xl">ü¶¥</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-800">Ortopedista</h3>
                                            <p class="text-blue-600 font-bold">R$ 900</p>
                                        </div>
                                    </div>
                                    <input type="radio" name="servico" value="ortopedista" class="hidden">
                                </div>

                                <!-- Card Fisioterapia -->
                                <div class="service-card bg-white border-2 border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-300 hover:shadow-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                            <span class="text-purple-600 text-xl">üö∂‚Äç‚ôÇÔ∏è</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-800">Fisioterapia</h3>
                                            <p class="text-blue-600 font-bold">R$ 550/sess√£o</p>
                                        </div>
                                    </div>
                                    <input type="radio" name="servico" value="fisioterapia" class="hidden">
                                </div>
                            </div>
                            <div class="flex justify-end">
                                <button type="button" class="next-step bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition duration-300 font-semibold">
                                    Pr√≥ximo ‚Üí Data & Hora
                                </button>
                            </div>
                        </div>

                        <!-- Etapa 2: Data e Hora -->
                        <div class="step" id="step2">
                            <h2 class="text-2xl font-bold text-gray-800 mb-6">Selecione Data e Hor√°rio</h2>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                                <!-- Calend√°rio -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-3">Data do Atendimento</label>
                                    <input type="text" id="datePicker" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white cursor-pointer" placeholder="Selecione uma data" readonly>
                                </div>

                                <!-- Hor√°rios Dispon√≠veis -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-3">Hor√°rios Dispon√≠veis</label>
                                    <div class="grid grid-cols-3 gap-3" id="timeSlots">
                                        <!-- Hor√°rios ser√£o gerados via JavaScript -->
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between">
                                <button type="button" class="prev-step bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 transition duration-300 font-semibold">
                                    ‚Üê Voltar
                                </button>
                                <button type="button" class="next-step bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition duration-300 font-semibold">
                                    Pr√≥ximo ‚Üí Dados Pessoais
                                </button>
                            </div>
                        </div>

                        <!-- Etapa 3: Dados Pessoais -->
                        <div class="step" id="step3">
                            <h2 class="text-2xl font-bold text-gray-800 mb-6">Seus Dados</h2>
                            
                            <div class="space-y-6 mb-8">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo</label>
                                        <input type="text" name="nome" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Telefone</label>
                                        <input type="tel" name="telefone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">E-mail</label>
                                    <input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Endere√ßo para Atendimento</label>
                                    <textarea name="endereco" rows="3" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Digite o endere√ßo completo para o atendimento domiciliar"></textarea>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Observa√ß√µes (opcional)</label>
                                    <textarea name="observacoes" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Alguma informa√ß√£o adicional que precisamos saber"></textarea>
                                </div>
                            </div>

                            <div class="flex justify-between">
                                <button type="button" class="prev-step bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 transition duration-300 font-semibold">
                                    ‚Üê Voltar
                                </button>
                                <button type="button" class="next-step bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition duration-300 font-semibold">
                                    Pr√≥ximo ‚Üí Confirma√ß√£o
                                </button>
                            </div>
                        </div>

                        <!-- Etapa 4: Confirma√ß√£o -->
                        <div class="step" id="step4">
                            <h2 class="text-2xl font-bold text-gray-800 mb-6">Confirme seu Agendamento</h2>
                            
                            <div class="bg-blue-50 rounded-xl p-6 mb-8">
                                <h3 class="font-semibold text-gray-800 mb-4">Resumo do Agendamento</h3>
                                <div class="space-y-3" id="resumoAgendamento">
                                    <!-- Resumo ser√° preenchido via JavaScript -->
                                </div>
                            </div>

                            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6">
                                <div class="flex items-start space-x-3">
                                    <span class="text-yellow-600 text-lg">üí°</span>
                                    <p class="text-yellow-800 text-sm">
                                        Ao confirmar, voc√™ ser√° redirecionado para a p√°gina de pagamento. 
                                        O agendamento s√≥ ser√° confirmado ap√≥s a finaliza√ß√£o do pagamento.
                                    </p>
                                </div>
                            </div>

                            <div class="flex justify-between">
                                <button type="button" class="prev-step bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 transition duration-300 font-semibold">
                                    ‚Üê Voltar
                                </button>
                                <button type="button" id="confirmarAgendamento" class="bg-green-600 text-white px-8 py-3 rounded-xl hover:bg-green-700 transition duration-300 font-semibold">
                                    ‚úÖ Confirmar e Pagar
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER PADRONIZADO -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                <div class="text-center md:text-left">
                    <p class="text-sm text-gray-300">Hello one üòä todos os direitos reservados</p>
                </div>
                <div class="text-center">
                    <p class="text-cyan-300 text-sm">helihealth@gmail.com</p>
                    <p class="text-cyan-300 text-sm">üìç (11) 99492-0521</p>
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                        <span class="text-blue-600 font-bold text-sm">H1</span>
                    </div>
                    <span class="text-white text-sm font-semibold">HelioOne</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.js"></script>

    <!-- JavaScript para Agendamento -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configura√ß√£o do Menu Mobile
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('open');
            });

            // Fechar menu ao clicar em um link
            const mobileLinks = mobileMenu.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.remove('open');
                });
            });

            // Sistema de Agendamento
            let currentStep = 1;
            const totalSteps = 4;
            const agendamentoData = {
                servico: '',
                data: '',
                horario: '',
                nome: '',
                telefone: '',
                email: '',
                endereco: '',
                observacoes: ''
            };

            // Elementos DOM
            const steps = document.querySelectorAll('.step');
            const progressBar = document.getElementById('progressBar');
            const timeSlotsContainer = document.getElementById('timeSlots');
            const resumoContainer = document.getElementById('resumoAgendamento');

            // Hor√°rios dispon√≠veis
            const horariosDisponiveis = [
                '08:00', '08:30', '09:00', '09:30', '10:00', '10:30',
                '14:00', '14:30', '15:00', '15:30', '16:00', '16:30'
            ];

            // Inicializar Flatpickr (Calend√°rio)
            const datePicker = flatpickr("#datePicker", {
                locale: "pt",
                minDate: "today",
                dateFormat: "d/m/Y",
                disable: [
                    function(date) {
                        // Desabilitar fins de semana
                        return (date.getDay() === 0 || date.getDay() === 6);
                    }
                ],
                onChange: function(selectedDates, dateStr, instance) {
                    agendamentoData.data = dateStr;
                    updateTimeSlots();
                }
            });

            // Gerar hor√°rios dispon√≠veis
            function updateTimeSlots() {
                timeSlotsContainer.innerHTML = '';
                horariosDisponiveis.forEach(horario => {
                    const timeSlot = document.createElement('button');
                    timeSlot.type = 'button';
                    timeSlot.className = 'time-slot bg-gray-100 text-gray-800 py-2 px-3 rounded-lg hover:bg-blue-100 transition duration-300';
                    timeSlot.textContent = horario;
                    timeSlot.addEventListener('click', function() {
                        // Remover sele√ß√£o anterior
                        document.querySelectorAll('.time-slot.selected').forEach(slot => {
                            slot.classList.remove('selected');
                        });
                        // Selecionar atual
                        this.classList.add('selected');
                        agendamentoData.horario = this.textContent;
                    });
                    timeSlotsContainer.appendChild(timeSlot);
                });
            }

            // Sele√ß√£o de servi√ßos
            document.querySelectorAll('.service-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remover sele√ß√£o anterior
                    document.querySelectorAll('.service-card.selected').forEach(service => {
                        service.classList.remove('selected');
                    });
                    // Selecionar atual
                    this.classList.add('selected');
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    agendamentoData.servico = radio.value;
                });
            });

            // Navega√ß√£o entre steps
            document.querySelectorAll('.next-step').forEach(button => {
                button.addEventListener('click', function() {
                    if (validateStep(currentStep)) {
                        currentStep++;
                        updateProgress();
                        showStep(currentStep);
                    }
                });
            });

            document.querySelectorAll('.prev-step').forEach(button => {
                button.addEventListener('click', function() {
                    currentStep--;
                    updateProgress();
                    showStep(currentStep);
                });
            });

            // Mostrar step espec√≠fico
            function showStep(stepNumber) {
                steps.forEach(step => step.classList.remove('active'));
                document.getElementById(`step${stepNumber}`).classList.add('active');
                
                if (stepNumber === 4) {
                    updateResumo();
                }
            }

            // Atualizar barra de progresso
            function updateProgress() {
                const progress = (currentStep - 1) / (totalSteps - 1) * 100;
                progressBar.style.width = `${progress}%`;
                
                // Atualizar n√∫meros dos passos
                document.querySelectorAll('.flex.justify-between.mb-4 > div').forEach((div, index) => {
                    const numberDiv = div.querySelector('div');
                    if (index < currentStep) {
                        numberDiv.className = 'w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-semibold';
                    } else {
                        numberDiv.className = 'w-10 h-10 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center mx-auto mb-2 font-semibold';
                    }
                });
            }

            // Validar step atual
            function validateStep(step) {
                switch(step) {
                    case 1:
                        if (!agendamentoData.servico) {
                            alert('Por favor, selecione um servi√ßo');
                            return false;
                        }
                        return true;
                    
                    case 2:
                        if (!agendamentoData.data || !agendamentoData.horario) {
                            alert('Por favor, selecione data e hor√°rio');
                            return false;
                        }
                        return true;
                    
                    case 3:
                        const form = document.querySelector('#step3');
                        const inputs = form.querySelectorAll('input[required], textarea[required]');
                        for (let input of inputs) {
                            if (!input.value.trim()) {
                                alert('Por favor, preencha todos os campos obrigat√≥rios');
                                input.focus();
                                return false;
                            }
                        }
                        // Salvar dados do formul√°rio
                        agendamentoData.nome = form.querySelector('input[name="nome"]').value;
                        agendamentoData.telefone = form.querySelector('input[name="telefone"]').value;
                        agendamentoData.email = form.querySelector('input[name="email"]').value;
                        agendamentoData.endereco = form.querySelector('textarea[name="endereco"]').value;
                        agendamentoData.observacoes = form.querySelector('textarea[name="observacoes"]').value;
                        return true;
                    
                    default:
                        return true;
                }
            }

            // Atualizar resumo do agendamento
            function updateResumo() {
                const servicoNomes = {
                    'clinico_geral': 'Cl√≠nico Geral - R$ 600',
                    'cardiologista': 'Cardiologista - R$ 900',
                    'ortopedista': 'Ortopedista - R$ 900',
                    'fisioterapia': 'Fisioterapia - R$ 550/sess√£o'
                };

                resumoContainer.innerHTML = `
                    <div class="flex justify-between py-2 border-b border-blue-200">
                        <span class="text-gray-600">Servi√ßo:</span>
                        <span class="font-semibold">${servicoNomes[agendamentoData.servico]}</span>
                    </div>
                    <div class="flex justify-between py-2 border-b border-blue-200">
                        <span class="text-gray-600">Data:</span>
                        <span class="font-semibold">${agendamentoData.data}</span>
                    </div>
                    <div class="flex justify-between py-2 border-b border-blue-200">
                        <span class="text-gray-600">Hor√°rio:</span>
                        <span class="font-semibold">${agendamentoData.horario}</span>
                    </div>
                    <div class="flex justify-between py-2 border-b border-blue-200">
                        <span class="text-gray-600">Paciente:</span>
                        <span class="font-semibold">${agendamentoData.nome}</span>
                    </div>
                    <div class="flex justify-between py-2 border-b border-blue-200">
                        <span class="text-gray-600">Telefone:</span>
                        <span class="font-semibold">${agendamentoData.telefone}</span>
                    </div>
                    <div class="flex justify-between py-2">
                        <span class="text-gray-600">E-mail:</span>
                        <span class="font-semibold">${agendamentoData.email}</span>
                    </div>
                `;
            }

            // Confirmar agendamento
            document.getElementById('confirmarAgendamento').addEventListener('click', function() {
                // Simular salvamento do agendamento
                const agendamentos = JSON.parse(localStorage.getItem('helione_agendamentos') || '[]');
                const novoAgendamento = {
                    id: Date.now(),
                    ...agendamentoData,
                    status: 'pendente',
                    dataCriacao: new Date().toISOString()
                };
                
                agendamentos.push(novoAgendamento);
                localStorage.setItem('helione_agendamentos', JSON.stringify(agendamentos));
                
                // Disparar confetes
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 }
                });

                // Redirecionar para p√°gina de pagamento ap√≥s 2 segundos
                setTimeout(() => {
                    window.location.href = 'pagamento.html?id=' + novoAgendamento.id;
                }, 2000);
            });

            // Inicializar hor√°rios
            updateTimeSlots();
        });
    </script>
</body>
</html>